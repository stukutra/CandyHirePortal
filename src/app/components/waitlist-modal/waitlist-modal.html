<div class="modal-backdrop" (click)="close()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="close()">
      <i class="bi bi-x-lg"></i>
    </button>

    <div class="modal-body">
      <div class="modal-icon">
        <i class="bi bi-rocket-takeoff-fill"></i>
      </div>

      <h2 class="modal-title">Ti interessa CandyHire?</h2>

      <p class="modal-text">
        Lasciaci i tuoi dati per ricevere maggiori informazioni e scoprire
        se CandyHire è la soluzione giusta per la tua azienda.
        Nessun impegno, ti contatteremo per mostrarti il prodotto!
      </p>

      <div class="modal-benefits">
        <div class="benefit-item">
          <i class="bi bi-play-circle-fill"></i>
          <span>Ti invieremo il link alla demo interattiva per esplorare tutte le funzionalità</span>
        </div>
        <div class="benefit-item">
          <i class="bi bi-people-fill"></i>
          <span>Un nostro consulente ti contatterà per una presentazione personalizzata</span>
        </div>
        <div class="benefit-item">
          <i class="bi bi-gift-fill"></i>
          <span>Chi si iscrive ora avrà accesso a condizioni speciali riservate</span>
        </div>
      </div>

      <form class="waitlist-form" (ngSubmit)="submitForm()">
        @if (errorMessage) {
          <div class="error-message">
            <i class="bi bi-exclamation-triangle-fill"></i>
            {{ errorMessage }}
          </div>
        }

        <div class="form-group">
          <input
            type="text"
            [(ngModel)]="formData.name"
            name="name"
            placeholder="Nome e Cognome *"
            class="form-input"
            required
            [disabled]="isSubmitting"
          />
        </div>

        <div class="form-group">
          <input
            type="email"
            [(ngModel)]="formData.email"
            name="email"
            placeholder="Email aziendale *"
            class="form-input"
            required
            [disabled]="isSubmitting"
          />
        </div>

        <div class="form-group">
          <input
            type="text"
            [(ngModel)]="formData.company"
            name="company"
            placeholder="Nome azienda *"
            class="form-input"
            required
            [disabled]="isSubmitting"
          />
        </div>

        <button type="submit" class="btn btn-candy btn-lg btn-block" [disabled]="isSubmitting">
          @if (isSubmitting) {
            <i class="bi bi-hourglass-split me-2"></i>
            Invio in corso...
          } @else {
            <i class="bi bi-hand-thumbs-up-fill me-2"></i>
            Sì, Voglio Maggiori Informazioni
          }
        </button>
      </form>

      <p class="modal-note">
        <i class="bi bi-shield-check"></i>
        Nessun acquisto. Ti contatteremo per presentarti la soluzione e discutere insieme le tue esigenze.
      </p>
    </div>
  </div>
</div>
