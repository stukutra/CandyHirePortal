# Security: Don't show directory listings
Options -Indexes

# Security: Block access to sensitive files
<FilesMatch "^\.">
    Require all denied
</FilesMatch>

# Block access to config and composer files
<FilesMatch "(composer\.json|composer\.lock|\.env)$">
    Require all denied
</FilesMatch>

# Enable rewrite engine
RewriteEngine On

# Ensure PHP files are executed
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
</FilesMatch>

# Enable error reporting (disable in production)
php_flag display_errors on
php_value error_reporting E_ALL

# Route: /admin/companies/{id}/toggle-active -> admin/companies/toggle-active.php
RewriteRule ^admin/companies/([^/]+)/toggle-active$ admin/companies/toggle-active.php [L,QSA]
